const getModelVo = {
  formatId: 45,
  formatShowName: '智慧新风',
  pageName: '智慧新风',
  modelId: 98,
  abilitysList: [
    {
      abilityId: 148,
      abilityName: '预设温度',
      definedName: '预设温度',
      dirValue: '2DD.0',
      writeStatus: 1,
      readStatus: 1,
      runStatus: 0,
      deviceValue: null,
      abilityType: 1,
      minVal: null,
      maxVal: null,
      remark: '预设温度',
      abilityOptionList: [
        {
          optionName: '',
          optionDefinedName: null,
          optionValue: '',
          minVal: null,
          maxVal: null
        }
      ]
    },
    {
      abilityId: 149,
      abilityName: '模式',
      definedName: '模式',
      dirValue: '210',
      writeStatus: 1,
      readStatus: 1,
      runStatus: 0,
      deviceValue: null,
      abilityType: 2,
      minVal: null,
      maxVal: null,
      remark: '模式',
      abilityOptionList: [
        {
          optionName: '自动',
          optionDefinedName: '自动',
          optionValue: '1',
          minVal: null,
          maxVal: null
        },
        {
          optionName: '睡眠',
          optionDefinedName: '睡眠',
          optionValue: '2',
          minVal: null,
          maxVal: null
        },
        {
          optionName: '手动',
          optionDefinedName: '手动',
          optionValue: '3',
          minVal: null,
          maxVal: null
        }
      ]
    },
    {
      abilityId: 150,
      abilityName: '风速',
      definedName: '风速',
      dirValue: '280',
      writeStatus: 1,
      readStatus: 1,
      runStatus: 0,
      deviceValue: null,
      abilityType: 2,
      minVal: null,
      maxVal: null,
      remark: '风速',
      abilityOptionList: [
        {
          optionName: '1档',
          optionDefinedName: '1档',
          optionValue: '1',
          minVal: null,
          maxVal: null
        },
        {
          optionName: '2档',
          optionDefinedName: '2档',
          optionValue: '2',
          minVal: null,
          maxVal: null
        },
        {
          optionName: '3档',
          optionDefinedName: '3档',
          optionValue: '3',
          minVal: null,
          maxVal: null
        }
      ]
    },
    {
      abilityId: 151,
      abilityName: '功能',
      definedName: '功能',
      dirValue: '0',
      writeStatus: 1,
      readStatus: 1,
      runStatus: 0,
      deviceValue: null,
      abilityType: 3,
      minVal: null,
      maxVal: null,
      remark: '功能',
      abilityOptionList: [
        {
          optionName: '空调',
          optionDefinedName: '空调',
          optionValue: 'XXX',
          minVal: null,
          maxVal: null
        },
        {
          optionName: '快暖',
          optionDefinedName: '快暖',
          optionValue: 'XXX',
          minVal: null,
          maxVal: null
        }
      ]
    },
    {
      abilityId: 152,
      abilityName: '当前温度',
      definedName: '当前温度',
      dirValue: '140',
      writeStatus: 0,
      readStatus: 1,
      runStatus: 0,
      deviceValue: null,
      abilityType: 1,
      minVal: null,
      maxVal: null,
      remark: '',
      abilityOptionList: []
    },
    {
      abilityId: 153,
      abilityName: '当前湿度',
      definedName: '当前湿度',
      dirValue: '130',
      writeStatus: 0,
      readStatus: 1,
      runStatus: 0,
      deviceValue: null,
      abilityType: 1,
      minVal: null,
      maxVal: null,
      remark: '',
      abilityOptionList: []
    },
    {
      abilityId: 154,
      abilityName: '小工具',
      definedName: '小工具',
      dirValue: '0',
      writeStatus: 1,
      readStatus: 1,
      runStatus: 0,
      deviceValue: null,
      abilityType: 1,
      minVal: null,
      maxVal: null,
      remark: '小工具',
      abilityOptionList: []
    },
    {
      abilityId: 156,
      abilityName: '主机状态',
      definedName: '主机状态',
      dirValue: '2D8.0',
      writeStatus: 1,
      readStatus: 1,
      runStatus: 0,
      deviceValue: null,
      abilityType: 2,
      minVal: null,
      maxVal: null,
      remark: '主机状态',
      abilityOptionList: [
        {
          optionName: '开',
          optionDefinedName: null,
          optionValue: '1',
          minVal: null,
          maxVal: null
        },
        {
          optionName: '关',
          optionDefinedName: null,
          optionValue: '0',
          minVal: null,
          maxVal: null
        }
      ]
    },
    {
      abilityId: 157,
      abilityName: '开关',
      definedName: '开关',
      dirValue: '210',
      writeStatus: 1,
      readStatus: 1,
      runStatus: 0,
      deviceValue: null,
      abilityType: 2,
      minVal: null,
      maxVal: null,
      remark: '开关',
      abilityOptionList: [
        {
          optionName: '关',
          optionDefinedName: '关',
          optionValue: '0',
          minVal: null,
          maxVal: null
        },
        {
          optionName: '开',
          optionDefinedName: '开',
          optionValue: '1',
          minVal: null,
          maxVal: null
        }
      ]
    },
    {
      abilityId: 158,
      abilityName: '地址',
      definedName: '地址',
      dirValue: '0',
      writeStatus: 1,
      readStatus: 1,
      runStatus: 0,
      deviceValue: null,
      abilityType: 1,
      minVal: null,
      maxVal: null,
      remark: '地址',
      abilityOptionList: []
    },
    {
      abilityId: 159,
      abilityName: '天气',
      definedName: '天气',
      dirValue: '0',
      writeStatus: 1,
      readStatus: 1,
      runStatus: 0,
      deviceValue: null,
      abilityType: 1,
      minVal: null,
      maxVal: null,
      remark: '天气',
      abilityOptionList: []
    },
    {
      abilityId: 160,
      abilityName: '户外湿度',
      definedName: '户外湿度',
      dirValue: '0',
      writeStatus: 1,
      readStatus: 1,
      runStatus: 0,
      deviceValue: null,
      abilityType: 1,
      minVal: null,
      maxVal: null,
      remark: '户外湿度',
      abilityOptionList: []
    },
    {
      abilityId: 161,
      abilityName: '户外PM2.5',
      definedName: '户外PM2.5',
      dirValue: '0',
      writeStatus: 1,
      readStatus: 1,
      runStatus: 0,
      deviceValue: null,
      abilityType: 1,
      minVal: null,
      maxVal: null,
      remark: '户外PM2.5',
      abilityOptionList: []
    },
    {
      abilityId: 162,
      abilityName: '定时',
      definedName: '定时',
      dirValue: '0',
      writeStatus: 1,
      readStatus: 1,
      runStatus: 0,
      deviceValue: null,
      abilityType: 1,
      minVal: null,
      maxVal: null,
      remark: '定时',
      abilityOptionList: []
    },
    {
      abilityId: 163,
      abilityName: 'CO2',
      definedName: 'CO2',
      dirValue: '120',
      writeStatus: 1,
      readStatus: 1,
      runStatus: 0,
      deviceValue: null,
      abilityType: 1,
      minVal: null,
      maxVal: null,
      remark: 'CO2',
      abilityOptionList: []
    },
    {
      abilityId: 164,
      abilityName: 'TVOC',
      definedName: 'TVOC',
      dirValue: '150',
      writeStatus: 1,
      readStatus: 1,
      runStatus: 0,
      deviceValue: null,
      abilityType: 1,
      minVal: null,
      maxVal: null,
      remark: 'TVOC',
      abilityOptionList: []
    },
    {
      abilityId: 165,
      abilityName: 'HCHO',
      definedName: 'HCHO',
      dirValue: '160',
      writeStatus: 1,
      readStatus: 1,
      runStatus: 0,
      deviceValue: null,
      abilityType: 1,
      minVal: null,
      maxVal: null,
      remark: 'HCHO',
      abilityOptionList: []
    },
    {
      abilityId: 166,
      abilityName: '滤芯寿命',
      definedName: '滤芯寿命',
      dirValue: '331',
      writeStatus: 1,
      readStatus: 1,
      runStatus: 0,
      deviceValue: null,
      abilityType: 1,
      minVal: null,
      maxVal: null,
      remark: '滤芯寿命',
      abilityOptionList: []
    },
    {
      abilityId: 167,
      abilityName: '童锁',
      definedName: '童锁',
      dirValue: '270',
      writeStatus: 1,
      readStatus: 1,
      runStatus: 0,
      deviceValue: null,
      abilityType: 2,
      minVal: null,
      maxVal: null,
      remark: '童锁',
      abilityOptionList: [
        {
          optionName: '关',
          optionDefinedName: '关',
          optionValue: '0',
          minVal: null,
          maxVal: null
        },
        {
          optionName: '开',
          optionDefinedName: '开',
          optionValue: '1',
          minVal: null,
          maxVal: null
        }
      ]
    },
    {
      abilityId: 168,
      abilityName: '空气质量',
      definedName: '空气质量',
      dirValue: '0',
      writeStatus: 1,
      readStatus: 1,
      runStatus: 0,
      deviceValue: null,
      abilityType: 1,
      minVal: null,
      maxVal: null,
      remark: '空气质量',
      abilityOptionList: []
    }
  ],
  formatItemsList: [
    {
      itemId: 184,
      showName: '定时',
      showStatus: 1,
      abilityId: 162
    },
    {
      itemId: 185,
      showName: '模式',
      showStatus: 1,
      abilityId: 149
    },
    {
      itemId: 186,
      showName: '风速',
      showStatus: 1,
      abilityId: 150
    },
    {
      itemId: 187,
      showName: '功能',
      showStatus: 1,
      abilityId: 151
    },
    {
      itemId: 188,
      showName: 'co2',
      showStatus: 1,
      abilityId: 163
    },
    {
      itemId: 189,
      showName: 'tvoc',
      showStatus: 1,
      abilityId: 164
    },
    {
      itemId: 190,
      showName: '甲醛',
      showStatus: 1,
      abilityId: 165
    },
    {
      itemId: 191,
      showName: '滤芯寿命',
      showStatus: 1,
      abilityId: 166
    },
    {
      itemId: 192,
      showName: '温度',
      showStatus: 1,
      abilityId: 152
    },
    {
      itemId: 193,
      showName: '湿度',
      showStatus: 1,
      abilityId: 153
    },
    {
      itemId: 194,
      showName: '童锁',
      showStatus: 1,
      abilityId: 167
    },
    {
      itemId: 195,
      showName: '开关',
      showStatus: 1,
      abilityId: 157
    },
    {
      itemId: 196,
      showName: '地点',
      showStatus: 1,
      abilityId: 158
    },
    {
      itemId: 197,
      showName: '天气',
      showStatus: 1,
      abilityId: 159
    },
    {
      itemId: 198,
      showName: '室外湿度',
      showStatus: 1,
      abilityId: 160
    },
    {
      itemId: 199,
      showName: 'pm2.5',
      showStatus: 1,
      abilityId: 161
    },
    {
      itemId: 200,
      showName: '空气质量',
      showStatus: 1,
      abilityId: 168
    }
  ]
}

const newQueryDetailByDeviceId = [
  {
    id: 162,
    dirValue: '0',
    abilityName: '定时',
    abilityType: 1,
    currValue: '0',
    unit: '定时',
    abilityOptionList: null
  },
  {
    id: 149,
    dirValue: '210',
    abilityName: '模式',
    abilityType: 2,
    currValue: null,
    unit: null,
    abilityOptionList: [
      {
        dirValue: '1',
        isSelect: 1
      },
      {
        dirValue: '2',
        isSelect: 0
      },
      {
        dirValue: '3',
        isSelect: 0
      }
    ]
  },
  {
    id: 150,
    dirValue: '280',
    abilityName: '风速',
    abilityType: 2,
    currValue: null,
    unit: null,
    abilityOptionList: [
      {
        dirValue: '1',
        isSelect: 0
      },
      {
        dirValue: '2',
        isSelect: 1
      },
      {
        dirValue: '3',
        isSelect: 0
      }
    ]
  },
  {
    id: 151,
    dirValue: '0',
    abilityName: '功能',
    abilityType: 3,
    currValue: null,
    unit: null,
    abilityOptionList: [
      {
        dirValue: 'XXX',
        isSelect: 1
      },
      {
        dirValue: 'XXX',
        isSelect: 1
      }
    ]
  },
  {
    id: 163,
    dirValue: '120',
    abilityName: 'CO2',
    abilityType: 1,
    currValue: '0',
    unit: 'CO2',
    abilityOptionList: null
  },
  {
    id: 164,
    dirValue: '150',
    abilityName: 'TVOC',
    abilityType: 1,
    currValue: '0',
    unit: 'TVOC',
    abilityOptionList: null
  },
  {
    id: 165,
    dirValue: '160',
    abilityName: 'HCHO',
    abilityType: 1,
    currValue: '0',
    unit: 'HCHO',
    abilityOptionList: null
  },
  {
    id: 166,
    dirValue: '331',
    abilityName: '滤芯寿命',
    abilityType: 1,
    currValue: '0',
    unit: '滤芯寿命',
    abilityOptionList: null
  },
  {
    id: 152,
    dirValue: '140',
    abilityName: '当前温度',
    abilityType: 1,
    currValue: '0',
    unit: '',
    abilityOptionList: null
  },
  {
    id: 153,
    dirValue: '130',
    abilityName: '当前湿度',
    abilityType: 1,
    currValue: '0',
    unit: '',
    abilityOptionList: null
  },
  {
    id: 167,
    dirValue: '270',
    abilityName: '童锁',
    abilityType: 2,
    currValue: null,
    unit: null,
    abilityOptionList: [
      {
        dirValue: '0',
        isSelect: 1
      },
      {
        dirValue: '1',
        isSelect: 0
      }
    ]
  },
  {
    id: 157,
    dirValue: '210',
    abilityName: '开关',
    abilityType: 2,
    currValue: null,
    unit: null,
    abilityOptionList: [
      {
        dirValue: '0',
        isSelect: 0
      },
      {
        dirValue: '1',
        isSelect: 1
      }
    ]
  },
  {
    id: 158,
    dirValue: '0',
    abilityName: '地址',
    abilityType: 1,
    currValue: '0',
    unit: '地址',
    abilityOptionList: null
  },
  {
    id: 159,
    dirValue: '0',
    abilityName: '天气',
    abilityType: 1,
    currValue: '0',
    unit: '天气',
    abilityOptionList: null
  },
  {
    id: 160,
    dirValue: '0',
    abilityName: '户外湿度',
    abilityType: 1,
    currValue: '0',
    unit: '户外湿度',
    abilityOptionList: null
  },
  {
    id: 161,
    dirValue: '0',
    abilityName: '户外PM2.5',
    abilityType: 1,
    currValue: '0',
    unit: '户外PM2.5',
    abilityOptionList: null
  },
  {
    id: 168,
    dirValue: '0',
    abilityName: '空气质量',
    abilityType: 1,
    currValue: '0',
    unit: '空气质量',
    abilityOptionList: null
  }
]

getModelVo.abilitysList.forEach(item => {
  item['currValue'] = ''
  item.abilityOptionList &&
    item.abilityOptionList.forEach(iItem => {
      iItem.isChecked = false
    })
})

// 根据功能项id筛选功能项
const findTheAbility = (data, id) => {
  return data.filter(item => item.id === id)[0]
}

const data = newQueryDetailByDeviceId
// 将res.data中的isSelect和dirValue赋值过去
getModelVo.abilitysList.forEach((item, index) => {
  // 如果有值，说明是温度功能项，讲数值拿过来
  if (data[index] && data[index].currValue) {
    // 找到对应的温度功能项对象
    const temp = getModelVo.abilitysList.filter(
      itemA => itemA.abilityId === data[index].id
    )[0]
    temp['currValue'] = data[index].currValue
  }
  if (!item.abilityOptionList || item.abilityOptionList.length === 0) {
    return
  }
  item.abilityType !== 1 &&
    item.abilityOptionList.forEach((option, oIndex) => {
      const result = findTheAbility(data, item.abilityId)
      if (result) {
        const temp = Object.assign(option, result.abilityOptionList[oIndex])
      }
    })
})

export const abilitysList = getModelVo.abilitysList
export const formatItemsList = getModelVo.formatItemsList
